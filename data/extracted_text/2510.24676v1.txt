--- Page 1 --- Feature Matching-Based Gait Phase Prediction for Obstacle Crossing Control of Powered Transfemoral Prosthesis Jiaxuan Zhang1, Yuquan Leng1, Yixuan Guo1, Chenglong Fu1* Abstract—Foramputeeswithpoweredtransfemoralprosthet- gait trajectories and impedance parameters, which largely ics,navigatingobstaclesorcomplexterrainremainschallenging. preventcompensatorymovements,enablingamputeestonav- Thisstudyaddressesthisissuebyusinganinertialsensoronthe igate complex terrain smoothly and stably with gait patterns sound ankle to guide obstacle-crossing movements. A genetic similar to those of healthy individuals [9], [10].Nonetheless, algorithm computes the optimal neural network structure to predict the required angles of the thigh and knee joints. A during obstacle crossing, the inherent randomness of human gait progression prediction algorithm determines the actuation movement and the non-rhythmic nature of specific events angleindexfortheprosthetickneemotor,ultimatelydefiningthe significantly increase the risk of falls, thereby elevating the necessary thigh and knee angles and gait progression. Results danger for amputees when encountering unexpected events showthatwhenthestandarddeviationofGaussiannoiseadded and obstacles in daily life [11], [12]. tothethighangledataislessthan1,themethodcaneffectively eliminate noise interference, achieving 100% accuracy in gait To address the challenge of helping above-knee amputees phase estimation under 150 Hz, with thigh angle prediction cross obstacles with active thigh prostheses, Shihao Cheng errorbeing8.71%andkneeanglepredictionerrorbeing6.78%. et al. [13] proposed a solution involving the installation These findings demonstrate the method’s ability to accurately of ultrasonic distance sensors on the anterior side of the predict gait progression and joint angles, offering significant practicalvalueforobstaclenegotiationinpoweredtransfemoral prostheticlowerleg.Thismethodmodifiesthemotiontrajec- prosthetics. tory based on real-time obstacle distance data received from Index Terms—Lower limb prosthetics, cross obstacles, phase the ultrasonic sensors, thereby enabling obstacle avoidance. phase prediction However, the gait progression estimation method used in the sub-phase of the gait phase employs linear piecewise I. INTRODUCTION interpolation, which introduces a certain degree of error in Obstacle crossing is a particularly challenging maneuver thepredictedprogression.JoelMendezetal.[12]introduced for individuals with above-knee amputations. Conventional an approach that utilizes the swinging angle of the residual passive fixed-knee prostheses require substantial compen- limb’sthightointegrateandselecttheprosthetickneejoint’s satory movements and result in asymmetrical limb motion, motiontrajectory.Specifically,alargerbackwardswingangle which over extended periods can lead to muscle fatigue and of the residual limb’s thigh prior to crossing an obstacle other musculoskeletal disorders [1]–[3]. Passive adjustable- results in a greater maximum knee flexion angle, facilitating knee prostheses can minimize asymmetrical movements dur- assisted obstacle crossing. However, when traversing higher inglocomotiononlevelgroundandinclines[4],[5];however, or longer obstacles, this method requires the prosthesis in complex terrain, such as crossing obstacles and going up wearer to perform unnatural excessive backward swinging and down stairs, the lack of active prosthetic assistance still of the prosthetic side thigh, thereby increasing the knee posesariskofamputeesfalling[3],[6],[7],andtheirmove- swing amplitude and extending the swing duration of the ments still lack symmetry [8]. Later, active-assisted knee- prosthesis [13]. Thus, enabling natural movement during ankle prostheses have been developed to meet the diverse obstacle crossing is the focus of this study. movement requirements of amputees across various scenar- In previous research conducted in our laboratory, a phys- ios.Theseprosthesesutilizepredictivealgorithmstogenerate ical model of the prosthesis and a method for continuous- phase motion control have already been established [14], *This work was supported in part by the Science, Technol- [15]. Therefore, in this paper, building upon the work of ogy, and Innovation Commission of Shenzhen Municipality under our predecessors, we focus solely on discussing trajectory GrantsJCYJ20230807093407016andKCXFZ20230731093401004,Guang- dong Basic and Applied Basic Research Foundation under Grant prediction and phase estimation for the obstacle-crossing 2023A1515110779, and National Natural Science Foundation of China state. This paper does not delve into further discussion of under Grant 62403230 and 52175272, and National Key R&D Program other states and control methods. of China under Grant 2024YFC3082800, National Undergraduate Training ProgramforInnovationandEntrepreneurshipunderGrantX202514325008. This paper presents a neural network-based predictive  control algorithm that assumes the prosthesis enters an 1Key Laboratory of Biomimetic Robotics and Intelligent Systems, SouthernUniversityofScienceandTechnology,Shenzhen518055,China. obstacle-crossing state within the framework of a finite state 5202 tcO 82 ]OR.sc[ 1v67642.0152:viXra --- Page 2 --- Fig. 1. A simplified explanation of the implementation steps of the method. Section II-A explains the collection and processing of experimentaldata,SectionII-Bdescribeshowtotrainandfindthebestneuralnetworkforpredictinghipandkneejointanglesalsowith gaitphaseestimation,SectionII-Cexplainshowtopredictgaitphase(gaitprogression),andfinallySectionII-Dbrieflydescribeshowto convert the calculated angles into motor torques. machine.Utilizingverticaldisplacementdatafromaninertial measurementunit(IMU,MTw,Xsens,Netherlands)wornon the ankle of the sound leg, along with motion angle data from the previous gait phase of the residual limb on the prosthetic side, which is acquired using a motion capture system (Raptor-12, Motion Analysis, America), and the leg lengthofthesubjectsmeasuredbyhand.Theneuralnetwork predicts the motion trajectory (angles) of the knee and hip joints of the prosthetic side. Subsequently, a dynamic time warping (DTW) based feature matching algorithm is employed to identify the progress of the gait phase. Based (a) Sensor placement on previous laboratory research experience, this experiment utilizes only the angle of the thigh on the prosthetic side as theinputvariableforgaitphaseestimation[15],[16].Finally, the real-time computed phase progress index serves as the actuation index for the knee joint angle of the prosthesis, thereby enabling the execution of the knee joint angle and facilitating the realization of obstacle-crossing motion states of the prosthesis under data simulation. II. METHOD (b) Data collection environment and locomotion protocol settings. The proposed control method is illustrated in Fig. 1. The Fig. 2. Data collection settings. (a) An IMU is attached to the rules and settings for obtaining these data are shown in lateralsideofthesubject’srightankle.Motioncapturemarkersare positioned at three key points: the most anterior point of the iliac Fig. 2. Our approach is predicated on the scenario where, crest, the most lateral aspect of the femoral epicondyle, and the during obstacle crossing, the amputee initially steps over outermostpointoftheanklejoint.(b)ThisDepictsthespecificgait with their sound leg. At this juncture, upon the sound leg’s strategyplannedforthesubject,withredtapeindicatingthelanding touchdown, the control system acquires the ankle joint’s z- points for the subject’s feet, and the obstacle composed of sponge. axis spatial coordinate data from the onset of the ascending phase to the touchdown phase of the leg that has already cleared the obstacle. Concurrently, it captures a segment of increase from its previous minimum value and the residual theprostheticside’sthighmotiontrajectorypriortothesound thigh starts to swing forward), a gait progression algorithm leg’s touchdown. This data is then fed into a neural network is employed to calculate the gait progression within the to generate the required hip and knee joint angles for the current obstacle-crossing stride cycle based on the thigh’s prosthetic side, serving as directives for the prosthetic limb’s swing angle at the present moment. After completing the movement. progression calculation, the motion of the prosthetic knee Subsequently,astheprosthesisbeginstocrosstheobstacle joint is actuated. Section II-A describes the data collection (i.e., when the angle of the prosthetic thigh commences to procedures. The specific sensor configurations and data ac- --- Page 3 --- quisitionenvironmentsaredepictedinFig.2,withthepartic- expected angle data (Angle) based on the minimum position ipantdetailspresentedinTableI.SectionII-Bintroducesthe of the thigh angle in this cycle to the subsequent minimum neuralnetworkpredictionsandtheirapplications,elucidating knee joint angle. Based on 20% of the length of this data the process of obtaining the optimal network architecture segment, the pre-obstacle crossing angle data (Pre-angle) is using a genetic algorithm. Section II-C explains how to delineated from before the minimum thigh angle point. This predictgaitprogression,andSectionII-Dbrieflyoutlinesthe pre-angle data serves as a corrective guide for subsequent transformationofpredictedanglesintocorrespondingmotion obstaclecrossingdatapredictionandasoneoftheinputsfor torques. the network. The ankle joint height data of the healthy side is cropped from the previous minimum point after entering A. Dataset the obstacle crossing cycle to the last minimum point. In this study, kinematic data of healthy subjects crossing B. Network System obstacles were gathered. Participants crossed obstacles first with their intact limb and then with their prosthetic limb. Neural networks have shown promise in controlling pros- Obstacle heights varied from 150 mm to 300 mm, with foot- thetic limbs, with several studies demonstrating their effec- to-obstacle distances ranging from 100 mm to 300 mm. To tiveness. Kibria et al. [17] utilized actor-critic networks to promote natural obstacle crossing, only footfall zones were reduce gait asymmetry, while Kim et al. [18] used deep markedforguidancewithoutstrictfootplacementregulation. learning to map gait trajectories for controlling a bionic leg. Obstacle lengths were fixed between 140 mm and 270 mm. Mahmud et al. [19] explored neural-dynamics optimization ParticipantdetailsareinTableI,andsensorarrangementsare forreal-timejointtrajectorygeneration,enhancingprosthetic shown in Fig. 2(a). Environmental conditions are depicted in adaptability. T. Kevin Best et al. [20] proposed a kinematic Fig. 2(b). controlmethodforpoweredknee-ankleprostheses,achieving natural movement during the swing phase by combining TABLE I impedance and kinematic control strategies. This hybrid ap- Subject information proach illustrates the practicality and sophistication of using neuralnetworksforprostheticcontrolduringtheswingphase. Height LegLength Thisstudydesignedaneuralnetworktopredicttheangles ID Gender Mass(kg) Age(yrs) (cm) (cm) of the thigh and knee joint of a prosthetic leg during the A Male 175 72 89 21 obstacle-crossing phase. The network uses ankle joint height B Female 170 65 85 20 from the healthy leg and predicted thigh angles from the prostheticlegasinputs.Itpredictsthejointanglesduringthe obstacle-crossingstate.Thesystemcompletesthepredictions before the prosthetic leg lift-off the graund, avoiding delays. The basic logic of finding the best network is shown in Fig. 4. Fig. 4. Optimal Network Search Block Diagram. This illustrates obtaining the optimal network structure via a genetic function Fig.3. Hipandkneeanglecorrespondenceduringobstaclecross- to optimize both gait cycle progress and joint angle trajectory ing. The magenta-colored angle data represents the data from the predictions. ”Angle height” denotes the height data of the healthy phase prior to the obstacle-crossing stage, while the green-colored leg’sankle duringobstacle crossing,while ”Pre-thighangle” refers angle data corresponds to the phase during the obstacle-crossing to the angle data of the prosthetic leg before crossing. ”Network stage, which is the target data for prediction. structure”isthearchitecturepassedfromthegeneticfunctiontothe network training function. ”Thigh angle” represents the predicted After the data collection is completed, the coordinate thigh angle generated by the network. ”Error1,” ”Error2,” and points are transformed and calculated into joint angles. The ”Error” correspond to the prediction errors of gait cycle progress, mappingrelationshipbetweenthethighandkneejointangles hip and knee joint angles, and their weighted sum, respectively. of the trailing leg (the leg that crosses the obstacle later, assumed to be the side with amputation) during obstacle For training, processed data including ankle height and crossing is shown in Fig. 3. This experiment divides the thigh angles were used. We employed attention mechanisms --- Page 4 --- to modulate the focus of the output. Approximately 35% of using a short extension. Subsequently, the optimal matching thedatawasrandomlyselectedforvalidation.Traininghalted sequence determined from this calculation is used to extend after 60 epochs without improvement in validation error, thedataselectionwithintheRecurrenceSequence(RS)based returning the network with the lowest loss. Post-training, the on its position. predicted knee angles were locally adjusted to match the • Case 1: Short Extension (Sinusoidal Transition) If the swingphase.Thiscompletedtheconstructionandapplication number of computation iterations is less than three of the neural network. and the computed progress is within the first 30% The study also explored the optimization network archi- and exceeds 30% but does not exceed five consecutive tecture inspired by Evolutionary Neural Networks (ENNs) computations,, a sinusoidal transition with exponential [21]. A genetic function identified the optimal network decay is applied. The transition function is given by: structure, including layer types, counts, activation functions, dropout rates, and neuron numbers. The loss function of T (t)=b+A·sin(2πt)·e−kt, t∈[0,num cycles] sin evolutionary algorithm combined RMSE of predictions and (2) gait progression with an additional time-based component, where b is the baseline value, initialized as the first ele- which is armed to minimize computing time. The genetic mentofthesequence(RS orCS ),Aistheamplitude 1 1 algorithm had the following settings: population size of 20, of oscillation k is the decay factor controlling the rate three elites, 20 generations, crossover ratio of 0.8, uniform of exponential damping, num cycles is the number of mutation function, mutation rate of 0.1. oscillation cycles. C. Phase Progress Estimation • Case 2: Long Extension (Linear Transition) If the re- turnedprogressisgreaterthan30%andforfiveconsec- Accurate prediction of gait phases is vital for enhancing utiveiterations.,alinearmonotonictransitionisapplied. the functionality and user experience of lower-limb prosthe- The transition function adjusts the initial values based ses. Traditional time-based estimation (TBE) methods often on the trend of the first few points and is given by: struggle with dynamic changes in walking speed and terrain, resulting in inaccurate gait phase estimation [22]. Recent T (x)=b−(cid:0) slop·(x−1)(cid:1) ·e−cx (3) lin studies have shown that machine learning algorithms can improve gait phase prediction in prosthetic legs by adapting where b is the baseline value, initialized as the first to different walking conditions. For example, Best et al. [20] element of the sequence (RS or CS ), slop is the 1 1 demonstrated a data-driven control strategy that effectively average slope, calculated from the first few points of predicts gait phases and enhances natural movement for the sequence: amputees. (RS −RS )+(RS −RS ) In this paper, the phase estimation is based on feature slop= 2 1 4 3 or 2 matchingfromthedata.Specifically,therelationshipbetween the thigh angle of the prosthetic leg and time is recorded (CS −CS )+(CS −CS ) 2 1 4 3 once the prosthetic thigh angle begins to increase from 2 its minimum point, indicating the entry into the obstacle- crossing state. The thigh angle-time curve is then resampled where c is the decay factor controlling the rate of to a fixed length. These resampled values are compared with damping. the predicted thigh angle features, and the optimal match • Extended Sequences Using the transitions defined is determined by calculating the Dynamic Time Warping above, the extended sequences are: (DTW) distance [23], [24] between the two sequences. The RS′ =[T orT ,RS], index of the last matching segment is then returned and sin lin (4) mapped to the corresponding knee joint angle index. This CS′ =[T sin orT lin,CS] completes the mapping from the prosthetic thigh movement The choice of T or T depends on the required to the prosthetic knee joint movement. Below is a detailed sin lin extension length l , as described above. explanation of the calculation of this mapping: 1 1) Sequence Definition and Extension: Given two se- 2) Optimized DTW Distance Calculation: The sliding quences: window extracts a sub-sequence of RS′ at position i: RS=[RS 1,RS 2,...,RS m], CS=[CS 1,CS 2,...,CS (1n )] RS′′ i =RS′ 1:i+n′+l1−1 =[RS 1′,RS 2′,...,RS i′ +n′+l1−1 (5] ) RS is the reference thigh angle trajectory curve calculated To compute the DTW distance, the reference sequence by the neural network, and CS is the true thigh angle tra- RS′′ is transformed using two vertical parameters (t ,s ) i y y jectory of amputees after entering the obstacle crossing gait and a horizontal scaling factor (s ), which modifies the x cycle. To improve alignment and reduce the impact of edge length of the sliding window. The transformation function effects,bothsequencesareextendedatthebeginningwithan f(RS′′ ,params) is defined as: i additional transition sequence based on their characteristics. Initially,thefirstthreematchingdatasegmentswilldefaultto f(RS′′ ,params)=s ·(RS′′ −t ) (6) i y i y --- Page 5 --- The horizontal scaling factor s adjusts the length of the algorithmbysimulatingreal-timeupdatesofthighangledata. x sliding window: IMU data and joint data are sent at a frequency of 25 to 150 Hz with added noise, and the phase progression algorithm Scaled Window Length=n′ =s ·n, x (7) receivesdatabasedonitsowncomputationallatencyandthe with s >0 and i+s ·n−1≤m+l and n′ >l x x 1 1 status of the received data as a reference for the calculation where t is the vertical translation parameter, shifting the interval. This approach identifies matching positions within y sequence’s values along the Y-axis, s is the vertical scaling the predicted sequence to assess the accuracy of gait phase y parameter, amplifying or compressing the sequence’s values, prediction, and compares the converted knee angles with s isthehorizontalscalingparameter,changingthewindow’s actual data for evaluation. x length, i is the starting position of the sliding window in IV. DISCUSSIONANDCONCLUSION RS′′, n is the original length of the comparison sequence CS′, n′ is the length of the scaled window RS′′, m+l is This paper proposes a control method for powered knee- 1 the total length of the extended reference sequence RS′. ankle prostheses designed to assist amputees in crossing The DTW distance is computed as: obstacles. Specifically, the method utilizes the thigh angle of the prosthetic side and the motion trajectory of the DTW(f(RS′′ ,params),CS′)= i healthy-side ankle joint as inputs to a neural network, which (cid:32) (cid:33) (cid:88) (cid:12) (cid:12) (8) predicts the motion trajectories of the hip and knee joints. min (cid:12)f(RS′′,params)−CS′ (cid:12) (cid:12) i′ j′(cid:12) Additionally,thethighangleisusedasaninputtopredictgait (i′,j′)∈P cycle progression in the obstacle-crossing control algorithm. whereP isthewarpingpaththatalignsf(RS′′ ,params)and The final trajectories of the thigh and knee joint angles are i CS′, subject to the monotonicity and continuity constraints. shown in Fig. 5. The thigh angle prediction accuracy is 3) Overall Optimization: The overall optimization in- relatively low, but it does not affect the precision of gait volves finding the window position i and the best transfor- phase prediction. mation parameters that minimize the DTW distance: ˆi,parˆams=arg min DTW(f(RS′′ ,params),CS′) i i=1,...,m−n+1 (9) where ˆi is the optimal starting position of the sliding window in RS′, parˆams = (tˆ ,tˆ ,sˆ ,sˆ ) are the optimal x y x y transformation parameters for RS′′, DTW(·,·) is the DTW distancefunctiondefinedoverthetransformedRS′′andCS′, f(RS′′ ,params) is the transformation function applied to i RS′′ with parameters params. i Then we employ a heuristic algorithm to compute the optimal parameters. Fig.5. Correspondencediagramofpredictedangleandactualan- 4) Best Match Index Calculation: Once the optimal gle.Thetwocolorsfromlighttodarkrepresentthecorrespondence window position ˆi is determined, the corresponding best- of each group of real data and predicted data. matching sequence in RS′ ends at ˆi+n′ −1. To convert The overall accuracy of the proposed method was evalu- this index into a progress value (Progress), the index must ated using a test dataset, where the root mean squared error be normalized relative to the total length of the reference (RMSE) for knee joint angles was calculated to be 6.78%, sequence RS. andtheRMSEerrorforthighangleswas8.71%.ThePearson D. Low-Level Control Strategy correlation coefficients for the predicted knee and thigh Oncetheneuralnetworkhascomputedtheanticipatedknee angles were 0.985 and 0.963, respectively; for gait phase joint angle, and the corresponding progress index has been (gait progression) prediction, tests indicate good sampling determined through the gait cycle progression estimation rate downward compatibility, with all sampling rates of gait algorithm, the desired angle can then be translated into the phaseprogressionaccuracybeing100%intestsrangingfrom desired motor torque using common PD control methods. 25 to 150 Hz. These simulation results demonstrate the high Thisparthasbeenpreviouslydiscussedinourearlierresearch precision of the proposed method in predicting joint angles [15] and will not be elaborated further here. and gait phase, thereby validating its feasibility. To assess the robustness and interference resistance of III. SYSTEMEVALUATION the control method in terms of gait phase progression and This paper employs a self-collected dataset for testing. A trajectory prediction, we applied post-processing Gaussian neural network is utilized to predict the joint angles of the noise to the real-time thigh angle data input to the gait prosthetic limb, followed by the application of the Pearson phase progression algorithm to simulate the impact of real correlation coefficient (r2) and Root Mean Squared Error outdoorenvironmentsonamputeesandsensors.Thestandard (RMSE)toassessaccuracywhencomparedwithactualdata. deviationofthegeneratednoisestartsfrom0.05,increasesby Offline tests are conducted to evaluate the phase estimation 0.025,andhasanupperlimitof3.Ultimately,byvaryingthe --- Page 6 --- noise production standard deviation, we obtained the images [6] M.Eveld,S.King,K.Zelik,andM.Goldfarb,“Factorsleadingtofalls showninFig.6,whichdemonstratethattheproposedmethod in transfemoral prosthesis users: a case series of sound-side stumble recoveryresponses,”JournalofNeuroEngineeringandRehabilitation, possessesacertainlevelofinterferenceresistance.Inthefinal vol.19,pp.1–24,September2022. test results, it can be observed that when the noise standard [7] B. J. Hafner, L. L. Willingham, N. C. Buell, K. J. Allyn, and deviation is less than 1, the proposed method can effectively D.G.Smith,“Evaluationoffunction,performance,andpreferenceas transfemoral amputees transition from mechanical to microprocessor eliminate the interference of noise on gait cycle prediction. control of the prosthetic knee,” Archives of Physical Medicine and When the noise standard deviation is greater than 1 but less Rehabilitation,vol.88,no.2,pp.207–217,2007. than3,themethodcanalsokeeptheRMSEofthegaitphase [8] M.Roerdinketal.,“Evaluatingasymmetryinprostheticgaitwithstep- lengthasymmetryaloneisflawed,”Gait&Posture,2012. progression within 2.4%. Demonstrated robustness potential [9] Y. Wang, X. Cheng, L. Jabban, X. Sui, and D. Zhang, “Motion to real-world collisions. intentionpredictionandjointtrajectoriesgenerationtowardlowerlimb Suchsimulationresultshavedemonstratedthatthemethod prosthesesusingemgandimusignals,”IEEESensorsJournal,vol.22, no.11,pp.10719–10729,2022. possesses a high level of robustness and adaptability. [10] Y.Lv,J.Xu,H.Fang,X.Zhang,andQ.Wang,“Data-minedcontinuous hip-kneecoordinationmappingwithmotionlagforlower-limbprosthe- siscontrol,”IEEETransactionsonNeuralSystemsandRehabilitation Engineering,vol.30,pp.1557–1566,2022. [11] B. Hafner and R. Askew, “Physical performance and self-report out- comes associated with use of passive, adaptive, and active prosthetic kneesinpersonswithunilateral,transfemoralamputation:Randomized crossovertrial,”JournalofRehabilitationResearchandDevelopment, vol.52,no.6,2015. [12] J. Mendez, S. Hood, A. Gunnel, and T. Lenzi, “Powered knee and ankle prosthesis with indirect volitional swing control enables level- groundwalkingandcrossingoverobstacles,”ScienceRobotics,vol.5, no.44,p.eaba6635,2020. [13] S. Cheng, C. A. Laubscher, and R. D. Gregg, “Automatic stub avoidanceforapoweredprostheticlegoverstairsandobstacles,”IEEE Transactions on Biomedical Engineering, vol. 71, no. 5, pp. 1499– 1510,2024. Fig. 6. Effects of noise on gait phase prediction. The blue [14] T. Ma, Y. Wang, X. Chen, C. Chen, Z. Hou, H. Yu, and C. Fu, “A columninthefigureshowsthepredictionerrorRMSEasthenoise piecewisemonotonicsmoothphasevariableforspeed-adaptationcon- level(gaussiannoisestandarddeviation)increases.Thesmallfigure trolofpoweredknee-ankleprostheses,”IEEERoboticsandAutomation showsthematchingdetailsoftheprogressmatchingwiththelargest Letters,vol.7,no.3,pp.8526–8533,2022. error in the data set when the noise level is 2.825. The lines in the [15] S. Yin, X. Chen, T. Ma, Y. Wang, Y. Guo, Y. Leng, and C. Fu, “Environmental recognition and multimode continuous-phase control legendarefromtoptobottom:realdatawithnoise(CS),realdata, for a powered transfemoral prosthesis,” in 2023 IEEE International matching data, and predicted data (RS). Conference on Development and Learning (ICDL). Macau, China: IEEE,November2023,pp.55–60. This study’s limitation is that tests and simulations were [16] X. Chen, C. Chen, Y. Wang, B. Yang, T. Ma, Y. Leng, and C. Fu, conducted on a laptop without real subject validation. The “Apiecewisemonotonicgaitphaseestimationmodelforcontrollinga poweredtransfemoralprosthesisinvariouslocomotionmodes,”IEEE focus was on trajectory prediction and gait phase prediction RoboticsandAutomationLetters,vol.7,no.4,pp.9549–9556,2022. during a single obstacle-crossing phase, potentially lacking [17] Z.KibriaandS.Commuri,“Neuro-dynamiccontrolofanaboveknee adaptability for continuous gait phases. Future work will prostheticleg,”JournalofMedicalRoboticsResearch,2024. [18] M. Kim and L. J. Hargrove, “Deep-learning to map a benchmark transfer the algorithm to real prostheses and test with am- dataset of non-amputee ambulation for controlling an open source putees outdoors to assess control method feasibility and bionicleg,”IEEERoboticsandAutomationLetters,vol.7,no.4,pp. conduct comparative analyses with existing solutions. 10597–10603,2022. [19] S. M. N. Mahmud, S. A. Nivison, Z. I. Bell, and R. Kamalapurkar, V. ACKNOWLEDGEMENT “Safemodel-basedreinforcementlearningforsystemswithparametric uncertainties,”FrontiersinRoboticsandAI,2021. Theauthorswouldliketoexpresstheirsincereappreciation [20] T.K.Best,C.G.Welker,E.J.Rouse,andR.D.Gregg,“Data-driven toTianyiYuandHaizhouYinfortheirassistanceassubjects. variable impedance control of a powered knee–ankle prosthesis for adaptivespeedandinclinewalking,”IEEETransactionsonRobotics, REFERENCES vol.39,no.3,pp.2151–2169,2023. [21] T. Salimans, J. Ho, X. Chen, S. Sidor, and I. Sutskever, “Evolution [1] H. Hobara, Y. Kobayashi, T. Nakamura, N. Yamasaki, K. Nakazawa, strategies as a scalable alternative to reinforcement learning,” arXiv M. Akai, and T. Ogata, “Lower extremity joint kinematics of stair preprintarXiv:1703.03864,2017. ascent in transfemoral amputees,” Prosthetics and Orthotics Interna- [22] I.Kang,D.D.Molinaro,S.Duggal,Y.Chen,P.Kunapuli,andA.J. tional,vol.35,pp.467–472,2011. Young, “Real-time gait phase estimation for robotic hip exoskeleton [2] J. Lee and M. Goldfarb, “Effect of a swing-assist knee prosthesis control during multimodal locomotion,” IEEE Robotics and Automa- on stair ambulation,” IEEE Transactions on Neural Systems and tionLetters,vol.6,no.2,pp.3491–3497,2021. RehabilitationEngineering,vol.29,pp.2046–2054,September2021. [23] G. R. Newell, S. J. Roberts, and A. P. Smith, “Statistical inference [3] D.Berry,“Microprocessorprostheticknees,”Phys.Med.Rehabil.Clin. for the dynamic time warping distance, with application to abnormal N.Am.,vol.17,no.1,pp.91–113,2006. time-seriesdetection,”JournalofTimeSeriesAnalysis,vol.31,no.4, [4] H. Hobara, Y. Kobayashi, T. Nakamura, N. Yamasaki, K. Nakazawa, pp.1234–1256,2020. M. Akai, and T. Ogata, “Lower extremity joint kinematics of stair [24] J.DoeandA.Smith,“Amethodformeasuringsimilarityoftimeseries ascentintransfemoralamputees,”Prosthet.Orthot.Int.,vol.37,no.6, basedonseriesdecompositionanddynamictimewarping,”Journalof pp.467–472,2013. DataScience,vol.10,no.2,pp.234–2456,2022. [5] J.Mendez,S.Hood,A.Gunnel,andT.Lenzi,“Poweredkneeandankle prosthesiswithadaptivecontrolenablesclimbingstairswithdifferent stairheights,cadences,andgaitpatterns,”IEEETransactionsonNeural SystemsandRehabilitationEngineering,2011.
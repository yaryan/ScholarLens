{
  "abstract": "Abstract Functioncalling(FC)empowerslargelanguagemodels(LLMs)andautonomousagentsto interfacewithexternaltools,acriticalcapabilityforsolvingcomplex,real-worldproblems. AsthisabilitybecomesincreasinglycentraltoadvancedAIsystems,theneedforhigh-quality, multi-turntrainingdatatodevelopandrefineitcannotbeoverstated.Existingdatasynthesis",
  "methods": "Methodology As shown in Figure 3, our proposed FunReason-MT framework comprises three core phases: (1) Phase I: Environment-API Graph Interactions constructs a valid multi-step execution trace by sampling tool callsfromtheAPIRelationGraph(\u00a74.1);(2)PhaseII:AdvancedTool-QuerySynthesisreverse-engineers ahard-to-solvedatasampleandsynthesizingacorrespondingchallengingHardQuery(Q )(\u00a74.2);(3) hard PhaseIII:GuidedIterativeChainutilizesaniterative,self-correctionlooptorefinetheCoTandensureits logicalconsistencywiththegroundtruthanswer(\u00a74.3). 4.1 PhaseI:Environment-APIGraphInteractions Acentralchallengeingeneratingmulti-turntool-usetrajectoriesistodeviseasamplingstrategythatisboth executableandpurposefullydirected. Toachievethis,FunReason-MTframeworkisdesignedtosatisfytwo 3 --- Page 4 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling Phase 1: Environment-API Graph Interactions Phase 2: Advanced Tool-Query Synthesis Tool_A & para. Feedback1 login......get_watchlist Tool Sampling Target_Tool:Tool_B To Fo el_ edB b& a cp ka 2ra. Tool_C& para. Feedback3 Trace Tooling Agent Tool_D& para. account_info Feedback4 Trace Tool Graph Tool_Adv Update Feedback Hard Para: [Input of Tool A,B,C,D] Query [Output of tool D] Querying Agent Description:Thisisatoolfor Virture system 4stepsactionsXXX\u2026 Q1: Phase 3: GuidedIterative C Fh ea eHi dn in bt ack Q_1: CTT A C[To ooo om Too ollp__ l_lACQ CTT A C[1e A T;o ox oo; o(m TooTT )Q oll ,op__o l: _o Tu lo ACQ CTT A C[1ele A T1 l o_ ;o ox oo_ ;r o o(m TD ooTB Ty )lQ oll _ ,op; __o l: _Bo Tu loQ H T: AC 1ele A1 (l o_ ;x_ ; )r o (,D TB Ty )lQ T _ ,o; o :o Bo Tuo: oole_ a (l o__ )lr o_ ,DBy lC T _; o( or BN ) o, ()lT _ ,lod C To ( o_)l: o_ , lD T _o C() o (] AQ )l_ ,D To() o] l; _u D()]Ter oy ol_B; HardQuery Tool_C;Tool_D Critiquing Agent Tool_A;Tool_B; A_N: Tool_C;Tool_D CoT HardQuery A_1: [Tool_A(),Tool_B(), + Description CoT CoT Tool_C(),Tool_D()] + [Tool_A(),Tool_B(), Tool_C(),Tool_D()] Tool_A;Tool_B; FC Tool_C;Tool_D. Reasoning Agent FC Evaluation Turn 1 Repeat * N Figure3: ThreePhasesofFunReason-MT. criticalconstraintssimultaneously: executioncorrectness(i.e.,respectingtooldependencies)andgoal-directed efficiency(i.e.,prioritizingT ). Wedetailthesetwocomponentsbelow. a FormalizingToolCallLegality Toensureavalidexecutionsequence,weintroduceastrictdependencyconstraint: ToolT isonlycallableif i allitsnecessarypreconditions,Prerequisite(T),aresatisfiedbythesetofalreadyexecutedtools,T . We i called formalizethisessentialconstraintusingthetoollegalitycheck I: I(T i,T called) = 1 {Prerequisite(Ti)\u2286T called} where1 istheindicatorfunction,returning1iftheconditionistrueand0otherwise. {\u00b7} ToolSamplingwithPriority While random sampling over the tool graph can satisfy execution correctness, it often fails to reach the targettoolT efficiently. Toaddressthis,weintroduceaDirectedSampler,denotedasSampleTool,which a explicitlybiasesthesamplingprocesstowardT . Specifically,SampleTooladoptsagreedyheuristicstrategy a thatoperatesoverthesetoflegaltoolsT andprioritizesthoseminimizingthegraphdistancedist(\u00b7,\u00b7)to legal T . ThesamplingpolicyofSampleToolisformallydefinedasfollows: a \uf8f1 rand(T ) ifT \u2208T T =SampleTool(T ,T ) = \uf8f4\uf8f4\uf8f2 T a legal if I(a T a,Tc ca al ll le ed d) =1\u2227T a \u2208/ T called (1) s a called \uf8f4\uf8f4\uf8f3argmin{dist(T k,T a)} otherwise Tk The chosen tool T is executed using sampled parameters P as the call C = (T ,P). This action yields s s s s s environmentalfeedback E, triggersanupdatetothesystemstateS , andconsequentlyupdatestheAPI i j GraphG,legaltoolsT andexecutedtoolsT . Theresultantsingle-turnexecutionsequenceisrecorded legal called asthetrace: Turn = (C ,E ,C ,E ,...,C ,E ). i 1 1 2 2 M M 4.2 PhaseII:AdvancedTool-QuerySynthesis WhiletheexecutiontraceTurn ensurescorrecttoolexecution,itdoesnotdirectlycapturetheabstractintent i behindthoseoperations. Toaddressthis,PhaseIIreversestheprocessbysynthesizingachallengingquery 4 --- Page 5 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling Q thatcompelsthemodeltoreasonovertheentiretraceasasinglehigh-levelabstraction. hard 1. AdvancedToolGeneration. GiventheexecutiontraceTurn,theToolingAgent(A )synthesizesasingle i T compositeabstraction,denotedastheadvancedtoolT : adv T = A (Turn) (2) adv T i where A abstractsthemulti-stepexecutiontraceintoaunifiedhigh-leveloperationthatencapsulatesthe T functionalityandinterdependenciesofallsub-toolswithinTurn. i 2. HardQueryConstruction. ConditionedonthesynthesizedadvancedtoolT ,theQueryingAgent(A ) adv Q generatesachallenginghardqueryQ thatexplicitlyrequirestheuseofT forresolution. Formally, hard adv theconstructionprocessisexpressedas: Q = A (T ,\u03f5) (3) hard Q adv where\u03f5denotesasynthesisnoisethatincreasestaskdifficultyandencouragesgeneralization. 4.3 PhaseIII:GuidedIterativeChain WhiletheconstructionofQ promoteshigher-levelreasoning,italsoincreasestheriskoflogicalinconsis- hard tencyorincompleteChain-of-Thought(CoT)generation. Toaddressthis,PhaseIIIintroducestheGuided IterativeChain,afeedback-drivenrefinementprocessthatiterativelyimprovesCoTqualityandcoherence untilthereasoningconvergestoareliablesolutionorreachesthemaximumattempts. InitialReasoningAttemptandCorrectionLoop TheReasoningAgent A beginsbyattemptingtoresolvethehardquery,Q ,utilizingboththeadvanced R hard tooldescriptionDes(T ) anditsprimitivecomponentsT . Thisfirstattemptyieldstheinitialoutput adv sub O(0) = {CoT,FC},comprisingaCoTandafinalFunctionCall. The generated function call (FC(k) ) is subsequently validated against the known ground truth G ( G = (C ,C ,...,C ))usingaverificationfunctionValidate:FC\u00d7G \u2192 {Pass,Fail}. 1 2 M 1. ErrorAnalysis(UponFailure): Ifthecurrentattemptfails,theCritiquingAgent(A )analyzestheincorrect C functioncallFC(k) withrespecttothegroundtruth A,identifiesthespecificerror,andgeneratestargeted correctivefeedback: Error(k) = A (FC(k) ,G). C 2. PromptAugmentation: ThecorrectiveerrorfeedbackisthenintegratedintotheReasoningAgent\u2019scontext as Prompt(k+1) . This addition implicitly creates a feedback loop, effectively guiding the subsequent attempt. 3. Self-Correction: TheReasoningAgent A isre-invokedwiththeaugmentedprompttogeneratearefined R solution,O(k+1) = A (...,Prompt(k+1)). R Themaximumallowedlimitforthisiterativecorrectionprocessis K attempts. Adatasampleisonly max retainedifthevalidationfunctionValidate(FC(k) ,G)returnsPassbeforetheiterationcapisreached. 4.4 ScalingfromSingle-TurnTracetoMulti-TurnTrajectory ThefullpipelineisiteratedNtimestoscalethesingle-turngenerationintoacomprehensive,high-quality multi-turntrajectory,Traj. TheoveralldatagenerationprocessstartsbyinitializingTrajasanemptyset.Theframeworkthensequentially executesthethreephasesforeachoftheNrequireddatarounds: Step1: EnvironmentAPI-GraphInteractions: AtargettoolT ischosenfromtheprimitivetoolsetT. This a choicedictatesthegenerationofacompleteexecutiontraceTurn withinthesimulationenvironment, 1 followingtheprocedureoutlinedinPhase1. Step2: AdvancedTool-QuerySynthesis: ThesuccessfultraceisthengavetotheLLMagents A and A . T Q TheseagentscollaboratetosynthesizetheAdvancedTool(T )anditscorrespondingHardQuery adv (Q ),therebyformingthecoreofthenewdatasample. hard 5 --- Page 6 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling Step3: GuidedIterativeChain: Immediatelyfollowingsynthesis,thedatasampleundergoesthecrucial GuidedIterativeChainverificationprocess. Thisstepemploysthereasoningandcritiquingagents (A ,A )toattemptsolvingthehardqueryandvalidateresultsagainstthegroundtruthanswerG. R C Toensuretheresultingmulti-turntrajectoryisreliableandcomplex,theentireprocessdetailedabovewillbe repeatedNtimes. 5",
  "introduction": "1 Introduction LargeLanguageModels(LLMs)areprofoundlytransforminghuman-computerinteraction,largelythrough FunctionCalling(FC),thepivotaltechnologyenablingLLMstointerfacewithexternaltoolsWANGetal. (2025). Althoughcontemporaryfoundationmodelspossessinherenttool-usecapability,unlockingmore advanced applications in this domain is hindered by a critical bottleneck: The construction of effective, high-qualitydata,particularlyformulti-turntrajectories. Existingdatagenerationresearchpredominantly reliesonconstrainedmethodologies,suchasrandomsamplingwithinenvironmentsorMulti-AgentSystem (MAS) role-playing simulations Huang et al. (2025); Prabhakar et al. (2025); Liu et al. (2024); Zeng et al. (2025). Crucially, random sampling fails to capture rare, complex events, while MAS role-playing often defaultstosimplistic\u2019happy-path\u2019scenariosorsuffersfromalackoftruediversityHanetal.(2024). Thus theseapproachesinherentlyproducedatathatislimitedinbotheffectivenessanddiversity,resultingina substantialtrainingperformanceceiling. AsillustratedinFigure2,wecategorizethechallengeinmulti-turnFCdatagenerationintothreecritical, interconnectedissuesthatdiminishdataqualityandmodelstability. 1)TargetedModelTraining. Existing randomsamplingtechniquesfailtocontrollablyandtargetedlyconstructmodeltrainingscenariosrequiring thecollaborativeuseofatargetcomplextoolwithothersacrossdiverse,multi-turntrajectories. 2)Isolation ofToolArchitecture. Duetothemodularinputsofindividualtoolsratherthanholisticintegration,direct environmentalsamplingandMASrole-playingstruggletosynthesizehard,logical-jumpqueries. 3)Multi- TurnLogicalDependency. Incomplexmulti-turndialogues,eachstepoftheChain-of-Thought(CoT)is avalidationandreconstructionoftherelianceonpriorlogic. CurrentReasoningLargeLanguageModels (RLLMs) often falter when generating CoT in unexplored environments, preventing the acquisition of completeandaccuratemulti-turntrajectories. To fundamentally resolve these structural limitations, we introduce the Function Call Reasoning Multi- Turn(FunReason-MT)datasynthesisframework. Ourframeworkprioritizesrobustnessandefficiency,and incorporatesthreespecificcorecomponentstotackletheoutlinedchallenges. \u2022 Environment-APIGraphInteractions. WeestablishanAPIgraphbasedoninterdependenciesbetween toolsandenvironments,enablingthecollectionofmulti-turntrajectoriescenteredaroundatargetcomplex APIwithinvariedscenarios,ultimatelytrainingmodelsfortargetedmasteryandcollaborativetooluse. \u2022 AdvancedTool-QuerySynthesis. Weusethetool-statepairscollectedduringEnvironment-APIGraph Interactionstoconstructanadvancedtoolthateliminatestheneedtoinputthemodularizedsub-tools whenqueriesaregeneratedinreverse. Thisinherentlymakestheexecutionofprerequisitetoolsimplicit. \u2022 GuidedIterativeChain. Weinputthehardquery,thesetofsub-tools,andtheadvancedtooldescription toobtainCoT.Wethenimplementaniterativefeedbackloop: Theanalysisidentifyingthespecificreasons foranyfailuretomatchthegroundtruthiscontinuouslyintegratedasacorrectivehintuntiltheCoT successfullyleadstotherightFCormeetsthemaximumattempts. We validate the FunReason-MT framework on the challenging Berkeley Function-Calling Leaderboard (BFCLv3),encompassingbothsingle-turnandmulti-turntestsPatiletal.. Experimentsdemonstratethat 2 --- Page 3 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling ourdataconstructionmethodconsistentlyoutperformsapproachesbasedonMASrole-playingorrandom environmentalsampling,andachievesstate-of-the-artperformanceamongcomparable-sizedmodels. This success affirms that FunReason-MT effectively overcomes the complexity barrier in multi-turn FC data generation,establishinganessentialknowledgesupplementforfutureLLMenvironmentexploration. We alsoevaluateourmodelsonBFCLv4,anout-of-distribution(OOD)benchmark,tofurtherassesstheiragentic ability. AlthoughourdataisunrelatedtothetasksevaluatedbyBFCLv4(WebSearchandMemory),our modelsstillshowimprovementinthesespecificareas. Webelieveourstudyiswell-positionedtolayarobust andenduringfoundationthatfacilitatesthefutureprogressionofagenticlearningZhangetal.(2025);Ke etal.(2025). 2 Motivation Ourmotivationstemsfromtheinsightthattheidentified\"performanceceiling\"isnotmerelyadataquantity issue,butafundamentalfailureoftheexistingdatagenerationparadigm. Werecognizedthat\"bottom-up\" approacheslikerandomsamplingandMASrole-playingarestructurallyincapableofproducingthehigh- complexity,long-tailtrajectoriesneededfortruemastery. Thesemethodsmerelyhopeforcomplexityto emergefromsimpleinteractions,sufferfromlowcontrollabilityandpoorreliability. Thisdroveustodeviseanew,\"top-down\"constructionmethodologythatcanexplicitlydirectthemodel tomasteraspecificcomplextoolwithinatargetedcomplexscenario. Ourapproachismotivatedbythe \"why\"and\"how\"ofthisshift: insteadofhopingfortargetedcomplextoolinvolvedtrajectories,weengineer thembymodelingtheenvironment\u2019sstructuraldependencies(theAPIgraph). Insteadofsamplingsimple toolcombinations,weguaranteecomplex,logical-jumpqueriesbygeneratingtheminreverse. Andfinally, instead of accepting flawed reasoning, we enforce CoT accuracy through a guided feedback loop, thus directlytargetingthethreecorechallengesthatplagueexistingmethodsandcorrespondingtosolvingthe issuesofreliabilityandcomplexityrespectively. 3 Notation InordertodescribethegenerationprocessoftheFunReason-MTframework,weintroducethekeysymbols andconceptsusedtomodelthesystem\u2019scomponentsandoperations. Thecoreconceptsandmodelsthat managethesystemaredefinedinTable1. Symbol Concept S Multi-EnvironmentSimulationSpace. T ToolSet. G= (T,R,P) APIRelationGraph(Tools,DependenciesR,ParametersP). A ,A ,A ,A LLMAgents(Tooling,Querying,Reasoning,Critiquing). T Q R C T \u2208T TargetTool. a M Numberoftoolcallsperround. N Numberoftrajectoryrounds. K Maximumself-correctionattempts. max Traj Multi-turntrajectory. Turn i-thsingle-turncontent. i Table1: CoreConceptsandModelsofFunReason-MT. 4",
  "experiments": "Experiments 5.1 ExperimentalSetup TrainingDetails.Consideringthelengthofmulti-turnconversationandCoT,weuseQwen3-4B-Instruct-2507 with256Klong-contextunderstandingasourbasemodelYangetal.(2025). Thecollectedtrajectoriesare splitateachassistantresponseandthemodelisonlytrainedontheCoTandansweratcurrentturn. We collect10000multi-turnsamples,andtoenhancethediversityofthedataset,wealsojointlytrainmodelwith functioncallingdatafromAPIGen. WeuseLLama-FactoryZhengetal.(2024)andVerlShengetal.(2024) librarytotrainmodelswithimplementationsfromHaoetal.(2025b)andHaoetal.(2025a). Benchmarks. OurprimaryevaluationisperformedontheBFCLv3,whichisdesignedtoassessthemodel\u2019s performanceonbothSingle-TurnandMulti-Turntool-callingtasks. Tofurtherevaluatethedatainfluence onthemodel\u2019sagenticcapability,weextendourassessmenttotheHeld-out(OOD)BFCLv4benchmark. BFCLv4isengineeredfortheevaluationofagenticperformancewithWebSearchandMemory. Wepresent alltheresultsintermsofaccuracy(%). 5.2 MainResults Multi-Turn Single-Turn Miss Miss Long Model Overall Base Overall Non-Live Live Func Param Context CloseSourceModel GPT-5-2025-08-07 28.50 33.50 29.50 23.00 28.00 65.59 72.92 58.25 GPT-4o-2024-11-20 42.50 55.50 34.50 29.00 51.00 77.21 83.88 70.54 Claude-Sonnet-4-20250514 54.75 64.00 54.00 47.50 53.50 84.72 88.38 81.05 Gemini-2.5-Pro 25.00 25.50 26.00 24.50 24.00 74.50 85.04 63.95 o3-2025-04-16 38.38 44.00 40.50 31.50 37.50 53.01 39.98 66.03 Grok-4-0709 36.12 44.00 31.00 26.00 43.50 79.80 85.21 74.39 OpenSourceModel Moonshotai-Kimi-K2-Inst 41.25 51.00 43.00 31.00 40.00 80.80 84.02 77.57 DeepSeek-R1-0528 44.50 54.50 41.00 36.50 46.00 78.22 75.73 80.90 Qwen3-235B-A22B-Inst-2507 39.62 53.50 34.50 27.50 43.00 83.37 90.12 76.61 Llama-4-Maverick 17.88 23.50 18.00 14.00 16.00 80.90 88.15 73.65 ToolACE-2-8B 37.00 47.00 31.00 28.00 42.00 82.54 87.87 77.20 BitAgent-8B 37.75 46.50 37.50 24.00 43.00 81.71 87.33 76.09 watt-tool-8B 37.88 45.50 39.00 24.00 43.00 81.71 87.54 75.87 xLAM-2-3b-fc-r 57.12 73.50 55.00 54.50 45.50 73.82 83.31 64.32 ToolACE-MT 40.25 57.50 31.50 34.00 38.00 78.23 84.94 71.52 Qwen3-4B-Inst-2507 15.75 19.00 15.50 12.50 16.00 78.19 86.35 70.02 +FunReason-MT(SFT) 46.90 53.20 47.10 40.40 46.90 81.97 83.36 80.57 +31.15 +3.78 +FunReason-MT(RL) 56.50 61.50 60.00 48.00 56.50 85.02 88.38 81.65 +40.75 +6.83 Table2: PerformanceonBFCLv3(lastupdatedAugust26,2025). Thebestresultwithineachcategoryis highlightedinbold. Thesecondbestresultisunderlined. AsshowninTable2,ontheBFCLv3benchmark,FunReason-MTyieldsnotableimprovementsonQwen3-4B- Instruct,raisingtheMulti-Turnscorefrom15.75to46.90(+31.15)afterSFTandto56.50(+40.75)afterRL. Despiteits4Bsize,theFunReason-MTRL-trainedmodelsurpassesbothstrongopen-sourcemodels(e.g., Kimi-K2-Inst,DeepSeek-R1)andleadingclose-sourcemodels(e.g.,GPT-5,Gemini-2.5-Pro,Claude-Sonnet-4), achievingstate-of-the-artresults. Inaddition,FunReason-MTdemonstratesbalancedperformanceacrossall sub-metrics,indicatingstronggeneralizationandstabilityacrossreasoningdimensions. Overall,theseresultsdemonstratethatFunReason-MTeffectivelyenhancesmulti-turnreasoningandtool-use 6 --- Page 7 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling capabilitiesbyutilizinghigh-qualitysynthesizeddata,resultinginconsistentandreliableimprovementsfor real-worldfunction-callingtasks. 5.3 AgenticResults ToinvestigatethetransferenceofagenticcapabilitiesinherentintheFunReason-MT,weevaluateourmodels ontheOODBFCLv4benchmark. Specifically,weassessmodelsonSearchandMemorysubsets,showingthe resultsinTable3. WebSearch Memory Models Overall Overall Base NoSnippet Overall KV Vector RecursiveSum ToolACE-2-8B 14.83 9.00 13.00 5.00 20.65 7.74 18.06 36.13 BitAgent-8B 8.24 4.00 4.00 4.00 12.47 4.52 20.65 12.26 watt-tool-8B 6.30 4.00 7.00 1.00 8.60 3.87 13.55 8.39 xLAM-2-3b-fc-r 7.42 1.50 1.00 2.00 13.33 4.52 10.97 24.52 Qwen3-4B-Instruct-2507 8.85 5.00 4.00 6.00 12.69 11.61 11.61 14.84 +FunReason-MT(SFT) 9.99 9.00 12.00 6.00 10.97 1.29 0.00 31.61 +1.14 +4.00 \u22121.72 +FunReason-MT(RL) 15.10 16.00 20.00 12.00 14.19 5.81 0.00 36.77 +6.25 +11.00 +1.50 Table3: PerformanceofonBFCLv4(lastupdatedAugust26,2025). OntheBFCLv4benchmark, theFunReason-MTmodeldemonstratessignificantperformancegainsover its base model, Qwen3-4B-Instruct-2507. SFT increases the Overall performance score from 8.85 to 9.99 (+1.14),whileRLfurtherboostsitto15.10(+6.25). TheRLmodel\u2019sstrengthisparticularlyevidentintheWeb SearchOverallsubset,whereitsscoreraisesfrom5.00to16.00(+11.00),alongsideanincreaseintheMemory Overallscorefrom12.69to14.19. Notably,theRL-trainedFunReason-MToutperformsallothercompeting specializedmodelsinthemainOverallmetric. The FunReason-MT model, particularly after being trained with reinforcement learning, demonstrates significantperformanceimprovementsontheBFCLv4benchmark. Thisprovesthatdatageneratedbythis paradigmconsistentlyenhancesthemodel\u2019sagenticcapabilities. Webelievethisparadigmofprocedural datagenerationprocesscanlayastrongfoundationandprovidearobustinitialknowledgebaseforfuture large-scale,environment-feedbackbased,agenticreinforcementlearning. 6",
  "conclusion": "Conclusion Inthistechnicalreport,weintroduceFunReason-MT,anoveldatasynthesisframeworkdesignedtoaddress criticalbottlenecksinmulti-turnfunctioncallingdatageneration. Weidentifiedthatexistingmethods,such asrandomsamplingandMASrole-playing,areinsufficient,producingdatathatlacksdiversityandfails tocapturecomplex,logically-dependenttrajectories. Ourframeworkovercomestheselimitationsthrough threecorecomponents: Environment-APIGraphInteractionsfortargetedscenariogeneration,Advanced Tool-QuerySynthesisforcreatinglogicallycomplexqueries,andaGuidedIterativeChainforrobustCoT generation. Empirical validation on the BFCLv3 benchmark demonstrates that our approach achieves state-of-the-artperformanceamongcomparable-sizedmodels. Furthermore,ourmodelshowspromising out-of-distributiongeneralizationonBFCLv4,underscoringtherobustnessofourmethod. Thisresearch pavesthewayfordevelopingmorerobustandstablemodelscapableofcomplexreasoningandenvironment exploration. 7 --- Page 8 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling",
  "references": "reference the tool_response data. The current_working_directory is /workspace,andthematchesarrayincludesallthosepaths.Sotheassistantcanpresentthatinfoconcisely. </think> <tool_call> The current working directory is /workspace. The search found the following items: [\"./pro- cessed\",\"./processed/vqrqs3933.md\",\"./processed/akqff.md\",\"./processed/documents\",\"./requirements.txt\", \"./dqyiu_68828.json\",\"./ulyuo.json\",\"./data\",\"./data/raw\",\"./data/raw/dtpsp.json\",\"./data/metadata.json\", \"./data/vwccl.md\",\"./data/unggv.json\",\"./data/code\",\"./data/project\"].\" </tool_call> User: Displaythecontentsofthefilenamedunggv.jsoninthedatadirectory,andthendisplaythelast7linesofthefile nameddtpsp.json,whichisinthedatadirectoryoftherawdirectory. Assistant: <think> Okay,let\u2019stackletheuser\u2019slatestrequest.Theywanttodisplaythecontentsof\"unggv.json\"inthedatadirectory andthelast7linesof\"dtpsp.json\"locatedinthedata/rawdirectory. First, I need to check the current directory. From the previous tool response, the current working direc- tory is \"/workspace\". The user mentioned \"data directory\", so \"unggv.json\" is directly under \"/workspace/- data/unggv.json\". Buttoaccessit,Ishouldusethe\u2019cat\u2019command. However,\u2019cat\u2019requiresthefiletobeinthe currentdirectory.Sincethecurrentdirectoryis\"/workspace\",Ineedtocheckif\"unggv.json\"isthere.Wait,looking backatthefindresults,\"unggv.json\"islistedunder\"./data/unggv.json\".Soit\u2019sinthedatasubdirectory.Toaccessit, Ineedtoeitherchangeintothedatadirectoryfirstorspecifythepath,butthe\u2019cat\u2019toolonlyallowsthefilenamein thecurrentdirectory.Therefore,Ishouldfirst\u2019cd\u2019intothedatadirectory. Wait,the\u2019cd\u2019toolchangesthedirectory,sofirststep:cdinto\u2019data\u2019.Then,use\u2019catunggv.json\u2019.Afterthat,forthe secondpart,theuserwantsthelast7linesof\u2019dtpsp.json\u2019indata/raw.Sincewearenowinthedatadirectory,the \u2019raw\u2019directoryisasubdirectory. Soweneedto\u2019cdraw\u2019togetintothatdirectory,thenuse\u2019tail\u2019withlines=7on \u2019dtpsp.json\u2019.Butafterthat,wemightneedtogoback,buttheuserdidn\u2019taskforthat.Alternatively,maybewecan doitwithoutchangingdirectoriesagainbyspecifyingthepath,butaccordingtothetool\u2019sparameters,\u2019tail\u2019only takesthefilenameinthecurrentdirectory. Wait,the\u2019tail\u2019parameterssay\"Nopathisallowedandyoucanonlyperformonfileatlocaldirectory.\"Sotoaccess \u2019data/raw/dtpsp.json\u2019,weneedtobeinthe\u2019data/raw\u2019directory.Sothestepswouldbe: 1.Currentdirectoryis/workspace.First,toaccess\u2019unggv.json\u2019indata/,do\u2019cddata\u2019,then\u2019catunggv.json\u2019.2.Then, togetintodata/raw,do\u2019cdraw\u2019,then\u2019tail(file_name=\"dtpsp.json\",lines=7)\u2019. But after the first \u2019cd data\u2019, the current directory becomes /workspace/data. Then after \u2019cd raw\u2019, it becomes /workspace/data/raw. Thenafterthosecommands, theusermightwanttoreturn, butsinceit\u2019samulti-step process,theassistantshouldjustproceedstepbystep. However,theuser\u2019srequestistofirstdisplayunggv.jsonandthendtpsp.json.Sothefunctioncallswouldbe: First,cdintodata:[cd(folder=\"data\")] Then,catunggv.json:[cat(file_name=\"unggv.json\")] Then,cdintoraw:[cd(folder=\"raw\")] Then,taildtpsp.jsonwith7lines:[tail(file_name=\"dtpsp.json\",lines=7)] Butafterthesesteps,thecurrentdirectoryisnowdata/raw. Theusermightneedtogoback,butsincetheuser didn\u2019task,maybeit\u2019sokay.Alternatively,maybethere\u2019sanotherwaywithoutchangingdirectoriesmultipletimes, butaccordingtothetoolconstraints,it\u2019snecessary. Wait, but the \u2019find\u2019",
  "results": "result shows that \u2019dtpsp.json\u2019 is in \"./data/raw/dtpsp.json\". So the path from the current directory(whichis/workspace)wouldrequirenavigatingintodata/raw.Sothestepsarenecessary. Therefore,thefunctioncallsshouldbeintheorder: 1.cdintodata2.catunggv.json3.cdintoraw4.taildtpsp.jsonwithlines=7 Sothefunctioncallswouldbe: [cd(folder=\"data\"),cat(file_name=\"unggv.json\"),cd(folder=\"raw\"),tail(file_name=\"dtpsp.json\",lines=7)] ButIneedtomakesureeachstepiscorrect.Letmecheckeachfunction\u2019sparametersagain. For\u2019cd\u2019,theparameteris\u2019folder\u2019,whichisthedirectorytochangeto. Sofirstcdto\"data\",thenfromtherecdto \"raw\"(sincecurrentisnowdata/). The\u2019cat\u2019requiresthefilenameincurrentdirectory.Aftercddata,unggv.jsonisthere.Then,aftercdraw,dtpsp.json isincurrentdirectory.Soyes,thatworks. Therefore,thecorrectfunctioncallsareasabove. </think> <tool_call> [cd(folder=\"data\"),cat(file_name=\"unggv.json\"),cd(folder=\"raw\"),tail(file_name=\"dtpsp.json\",lines=7)] </tool_call> Tool: <tool_response> 12 --- Page 13 --- FunReason-MTTechnicalReport: OvercomingtheComplexityBarrierinMulti-TurnFunctionCalling [\u2019cd(folder=\"data\")\u2019:\u2019\"current_working_directory\":\"data\"\u2019,\u2019cat(file_name=\"unggv.json\")\u2019:\u2019\"file_content\":\"\"data\": \"id\":\"94\",\"type\":\"product\"\"\u2019,\u2019cd(folder=\"raw\")\u2019:\u2019\"current_working_directory\":\"raw\"\u2019,\u2019tail(file_name=\"dtpsp.json\", lines=7)\u2019:\u2019\"last_lines\":\"\"data\": \"id\":\"27\",\"type\":\"user\"\"\u2019] </tool_response> Assistant: <think> Okay,let\u2019sseewhattheuserisaskingfornow.Theuser\u2019slatestquerywastodisplaythecontentsof\"unggv.json\"in thedatadirectoryandthelast7linesof\"dtpsp.json\"locatedinthedata/rawdirectory. Lookingatthepreviousinteractions,theassistantfirstusedpwd()andfind()togetthecurrentdirectoryandlistall files.Then,theuser\u2019snextrequestrequirednavigatingintothedatadirectorywithcd(\"data\"),thenusingcaton unggv.json.Afterthat,theychangedtotherawdirectorywithcd(\"raw\")andusedtailondtpsp.jsonwithlines=7. Thetoolresponsesshowthatallthesecommandswereexecutedsuccessfully.Thecurrentworkingdirectorywas firstchangedto\"data\",thento\"raw\".Thecatandtailcommandsbothreturnedtheexpectedfilecontents.Sinceall thefunctionscalledintheassistant\u2019sresponsehavebeenexecutedwithouterrors,there\u2019snoneedtorepeatany commands. Theuser\u2019srequirementshavebeenfullymet. Now,theassistantshouldpresenttheresultsofthese commandstotheuserinaclearmanner,mentioningthecontentsofunggv.jsonandthelastlinesofdtpsp.jsonas perthetoolresponses. </think> <answer> Thecontentsof\"unggv.json\"inthedatadirectoryare:\"\"data\": \"id\":\"94\",\"type\":\"product\"\". Thelast7linesof\"dtpsp.json\"inthedata/rawdirectoryare:\"\"data\": \"id\":\"27\",\"type\":\"user\"\".\" </answer> 13"
}